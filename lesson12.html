<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-04-23">

<title>The Object-Oriented (OO) Paradigm</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="lesson12_files/libs/clipboard/clipboard.min.js"></script>
<script src="lesson12_files/libs/quarto-html/quarto.js"></script>
<script src="lesson12_files/libs/quarto-html/popper.min.js"></script>
<script src="lesson12_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lesson12_files/libs/quarto-html/anchor.min.js"></script>
<link href="lesson12_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lesson12_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lesson12_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lesson12_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lesson12_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>

      .quarto-title-block .quarto-title-banner {
        background: #002f8b;
      }
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Object-Oriented (OO) Paradigm</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 23, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-object-oriented-paradigm" id="toc-the-object-oriented-paradigm" class="nav-link active" data-scroll-target="#the-object-oriented-paradigm"><span class="header-section-number">1</span> The Object Oriented Paradigm</a>
  <ul class="collapse">
  <li><a href="#state-and-behavior-the-basic-idea" id="toc-state-and-behavior-the-basic-idea" class="nav-link" data-scroll-target="#state-and-behavior-the-basic-idea"><span class="header-section-number">1.1</span> State and behavior… the basic idea</a></li>
  <li><a href="#objects-classes-and-instances" id="toc-objects-classes-and-instances" class="nav-link" data-scroll-target="#objects-classes-and-instances"><span class="header-section-number">1.2</span> Objects, classes, and instances</a></li>
  <li><a href="#representing-state-and-behavior" id="toc-representing-state-and-behavior" class="nav-link" data-scroll-target="#representing-state-and-behavior"><span class="header-section-number">1.3</span> Representing state and behavior</a></li>
  <li><a href="#instance-variables-vs.-class-variables" id="toc-instance-variables-vs.-class-variables" class="nav-link" data-scroll-target="#instance-variables-vs.-class-variables"><span class="header-section-number">1.4</span> Instance variables vs.&nbsp;class variables</a></li>
  <li><a href="#accessors-and-mutators" id="toc-accessors-and-mutators" class="nav-link" data-scroll-target="#accessors-and-mutators"><span class="header-section-number">1.5</span> Accessors and mutators</a></li>
  <li><a href="#operator-overloading" id="toc-operator-overloading" class="nav-link" data-scroll-target="#operator-overloading"><span class="header-section-number">1.6</span> Operator overloading</a></li>
  <li><a href="#class-diagrams" id="toc-class-diagrams" class="nav-link" data-scroll-target="#class-diagrams"><span class="header-section-number">1.7</span> Class diagrams</a></li>
  <li><a href="#inheritance" id="toc-inheritance" class="nav-link" data-scroll-target="#inheritance"><span class="header-section-number">1.8</span> Inheritance</a></li>
  <li><a href="#the-object-class" id="toc-the-object-class" class="nav-link" data-scroll-target="#the-object-class"><span class="header-section-number">1.9</span> The <code>object</code> class</a></li>
  <li><a href="#oo-quick-reference" id="toc-oo-quick-reference" class="nav-link" data-scroll-target="#oo-quick-reference"><span class="header-section-number">1.10</span> OO quick reference</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="the-object-oriented-paradigm" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="the-object-oriented-paradigm"><span class="header-section-number">1</span> The Object Oriented Paradigm</h2>
<p>As discussed in lessons early in the curriculum, three paradigms of programming languages have emerged over the years: the imperative paradigm, the functional paradigm, and the logical paradigm. A language is classified as belonging to a particular paradigm based on the programming features it supports. In addition, during the past decade or so these paradigms have been extended to include object-oriented features. Some computer scientists view object-oriented programming as a fourth paradigm. Others prefer to view it as an extension to the imperative, functional, and logical paradigms, in that object-oriented constructs and behaviors are often viewed as higher-level organizational attributes that can be incorporated into each of the three basic paradigms, rather than as a separate programming paradigm unto itself.</p>
<p>Object-oriented concepts have revolutionized programming languages. The vast majority of widely used programming languages are now object-oriented. In fact, they are, by far, the most popular type of programming languages. Python, Java, and C++ are object-oriented, imperative languages. Specifically, Python is an imperative, interpreted language that can <em>optionally</em> be object-oriented. That is, non-object-oriented programs can be written in Python if desired. In a sense, this makes Python quite powerful (like a Swiss army knife of programming).</p>
<p>The <strong>object-oriented paradigm</strong> is an elegant and clean way to conceptually think about computer programming. When used properly, it can produce programs that are more robust, less likely to have errors, and are easy for others to understand and modify. Specifically, the object-oriented approach adds the concepts of objects and messages to the paradigms listed above. We don’t think of programs as procedures or lists of instructions to be executed in order from beginning to end; rather, we think of them as modeling a collection of objects interacting with each other.</p>
<p>Essentially, programs and the data on which they act are viewed as objects. In order to perform a task, an object must receive a message indicating that work needs to be done. Object-oriented languages are extremely useful for writing complex programs; for example, programs that support mouse-based, graphical user interfaces. Object-oriented programming helps in the construction of software systems by enabling large, complex systems to be subdivided into isolated functional units with well-defined external interfaces to other system components. There are many other distinguishing characteristics of object-oriented programs, including inheritance, polymorphism, and data encapsulation. Some of these will be discussed in this lesson, while others will be covered in later lessons</p>
<section id="state-and-behavior-the-basic-idea" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="state-and-behavior-the-basic-idea"><span class="header-section-number">1.1</span> State and behavior… the basic idea</h3>
<p>We live in a world in which objects exist all around us. In fact, we interact with objects all the time. For example, the author of this document interacted with a keyboard and mouse while writing this sentence! The author’s brain (an object) somehow sent a message to hands and fingers (all objects) to make contact with keyboard keys (again, all objects). The keyboard (an object) somehow sent a message to the computer (an object made up of many other objects) to interpret key presses as characters to be placed in this document (an object) and displayed on the screen (yet another object).</p>
<p>Fundamentally, an object is a thing. In object-oriented programming, the objects model things in our problem domain. Objects have properties (or attributes) that, in a sense, define them. They capture the properties or characteristics of an object. For example, a <em>person</em> object has many attributes, some of which include sex, name, age, height, hair color, eye color, and so on. These are the things that a person can <em>be</em>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>The collection of attributes that make up an object are called its <strong>state</strong>.</p>
</div>
</div>
<p>Objects can also <em>do</em> things. That is, they can have behaviors. In object-oriented programming, these behaviors are implemented by program modules (e.g., methods, procedures, functions, etc) that contain the instructions required to model the behavior in computer software. For example, a <em>person</em> object can eat, sleep, talk, walk, and so on.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>The collection of actions that an object can do are called its <strong>behavior</strong>.</p>
</div>
</div>
<p>Collectively, <strong>state</strong> and <strong>behavior</strong> define an object. When you begin to adopt this way of thinking, you can begin to see many things in our world as objects with attributes and behaviors interacting with other objects.</p>
</section>
<section id="objects-classes-and-instances" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="objects-classes-and-instances"><span class="header-section-number">1.2</span> Objects, classes, and instances</h3>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>An <strong>object</strong> represents a specific thing from the real world with defined attributes</p>
</div>
</div>
<p>For example, “the white truck down there parked by the road” is an object. It is a truck that could ostensibly be observed on the road. In fact, it could be a white 2016 4x4 Dodge Ram 1500 with 450 miles on it.</p>
<p>Clearly, there exist other trucks in the world. In fact, there may even be other trucks parked by the road next to the one just described. One could say, then, that the generic term <em>truck</em> could represent all kinds of truck objects. Trucks are all basically different versions of the same thing. That is, they all behave the same and have the same set of attributes; however, the values of those attributes is what sets them apart. For example, one truck could be red and another white; one truck could be a Dodge and another a Toyota.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>class</strong> represents a blueprint or template for those real world things with defined attributes (i.e., for all of the objects that can be derived).</p>
</div>
</div>
<p>For example, a truck class could be used to create many truck objects. Another way of saying this is that a class is a collection of objects that share the same attributes and behaviors. The differences between individual objects are abstracted away and ignored. So the class can be thought of as the perfect idea of something. This occurs in the real world in, for example, the way a child learns to abstract away the differences between Aunt Jamie’s schnauzer, a best friend’s bulldog, and dad’s boxer – and learns to classify them all as dogs.</p>
<p>This is not a new idea. Plato, quoting Socrates in <em>The Republic</em>, discusses the <em>Theory of Forms or Ideas</em>. For example, no one has ever seen a perfect circle; however, we have an idea of what a perfect circle should be. We have drawn many circles, but none of them were absolutely perfect. The perfect idea of a circle would be considered a class, and each of the circles we draw would be considered objects. Formally, a class defines the state and behavior of a <em>class</em> of objects. The fact that a truck has a color, year, make, model, mileage, and so on, is defined in the class. The fact that a truck can haul, drive, turn, honk, and so on, is also defined in the class. In fact, how a truck hauls, drives, turns, and honks is specified in the truck class as well. From the truck class, many truck <strong>instances</strong> can be created, each with potentially different attribute values making up each truck’s unique state. We say that, from this class, we can <strong>instantiate</strong> many objects.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Instantiation</strong> is the process of creating a new instance (a.k.a. an object) of a class.</p>
</div>
</div>
<p>Usually, we use the term object and instance interchangeably. That is, a truck object, for example, is just an instance of the truck class.</p>
<div class="callout callout-style-default callout-important callout-titled" title="Activity">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Activity
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>In this activity, you will play a game using an animal class. This class, formally called <strong>Animal</strong>, will define what animals can be and do. Some of the students in the class will become objects of the class <strong>Animal</strong>. The animal class defines several attributes that an animal has: <code>type</code>: a string that represents the animal’s type (e.g., dog)</p>
<pre><code>`appetite`: an integer that represents how much daily food units the animal requires to live

`stomach`: an integer that represents how much food units are currently in the animal's stomach

`alive`: a Boolean that represents whether or not the animal is alive

`sound`: a sound that represents the sound the animal makes</code></pre>
<p>The class also defines several behaviors that an animal can do (and that students will perform when called upon): <code>talk()</code>: make the sound the animal makes</p>
<pre><code>`burn()`: use the animal's daily food units by subtracting `appetite` from `stomach`

`eat(amount)`: increase the animal's `stomach` food units by the provided `amount`

`getType()`: tell the requester what the animal's type is (i.e., the value of `type`)

`isAlive()`: tell the requester if the animal is alive or not (i.e., the value of `alive`)</code></pre>
<p>Note that if <code>stomach</code> is less than 0, then <code>alive</code> becomes false – and the animal dies…</p>
</div>
</div>
</div>
</section>
<section id="representing-state-and-behavior" class="level3 page-columns page-full" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="representing-state-and-behavior"><span class="header-section-number">1.3</span> Representing state and behavior</h3>
<p>Objects store their state in <strong>instance variables</strong>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>An <strong>instance variable</strong> is a variable defined within a class. Each object can have a different value for their copy of the instance variable.</p>
</div>
</div>
<p>For example, a truck class could define the variable <code>year</code> to represent the year a truck was manufactured. A specific truck object (or instance) would set this variable to the year of its manufacture. In Python, this would be done with a simple assignment statement. If, for example, the truck object were manufactured in 2016, then the statement <code>year = 2016</code> would appropriately set the truck’s year of manufacture. Another truck object could have a different year of manufacture. Ultimately, the class defines instance variables; however, each object stores its own unique set of values. There are certain attributes that all instances of a class may want to share. Consider a class that defines a <em>person</em>. Although each instance/object of the person class can be different and thus have unique values stored in its instance variables (e.g., different sex, name, age, etc), all persons are Homo sapiens. All persons share this <em>scientific name</em>. In fact, if an expert in the field were to rename (or perhaps refine) the term Homo sapiens to something else, this would change for all persons, effectively at the same time. This kind of behavior can also be replicated in the object-oriented paradigm.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>class variable</strong> defines a value that is shared among all the instances of a class.</p>
</div>
</div>
<p>Unlike instance variables that, when changed, only affect a single object, a change in a class variable affects all instances of a class simultaneously. Essentially, a class variable is stored in memory that is shared among all the instances of a class.</p>
<p>The behavior of objects is defined in <strong>methods</strong> (or functions) that can be invoked. For example, the <em>turn</em> behavior of a truck could be defined in a function called <code>turn</code>. If necessary, this function could take parameters as input and return some sort of output.</p>
<p>Ultimately, a class has source code that specifies its state (through instance variables) and behavior (through methods).</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>Collectively, state and behavior are referred to as the <strong>members</strong> of a class.</p>
</div>
</div>
<p>Let’s take a look at a simple example of a dog class in Python. For this example, a dog only has a name, and all dogs are canines.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>:  <span class="kw">class</span> Dog:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>:      kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>:      <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, dog_name):</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>:          <span class="va">self</span>.name <span class="op">=</span> dog_name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Line 1 represents the class header, which includes the Python keyword <code>class</code> and the name of the class (in this case, <em>Dog</em>). Class headers are terminated with a colon, much like function headers. It is typical to capitalize the names of classes. Moreover, class names should always be singular nouns since they define the blueprint for a single thing</p>
<p>Line 2 defines a class variable named <code>kind</code> that is initialized with the string “canine”. This value is shared among all dogs. The reason that we consider <code>kind</code> to be a class variable is that it is defined inside the class but outside any methods that are in the class. That is, class variables are defined at the class level.</p>
<p>Lines 3 and 4 represent a function called <code>__init__</code>. In Python, functions that begin and end with two underscores have special meaning. In fact, they are called <strong>magic functions</strong>.</p>

<div class="no-row-height column-margin column-container"><div class="callout callout-style-default callout-note callout-titled" title="Did you know">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Did you know
</div>
</div>
<div class="callout-body-container callout-body">
<p>Some people refer to these are “dunder” methods due to the double underscores used to denote them</p>
</div>
</div></div><div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Magic functions</strong> are functions in Python that have special meaning. They are normally called automatically by Python in the right situations (sometimes we call them explicitly). They have two underscores before and two underscores after the name of the function. There are several magic functions in Python that we can use and declare.</p>
</div>
</div>
<p>The <code>__init__</code> function provides an initialization procedure for each instance of the class. That is, the source code contained within this method effectively defines what it means to initialize a new instance of the class. When we want new instances of the dog class, this function is automatically invoked (since it is a magic function). Formally, this type of function is called a <strong>constructor</strong>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>constructor</strong> contains the source code required to construct a new instance of a class. A constructor is automatically invoked each time we create an instance of a class. Its purpose is to initialize the object, which typically means to set default values for one or more of the instance variables (e.g.&nbsp;we don’t have to initialize them all). These initial values may come from parameters of the constructor or we can give the instance variable a value ourselves (such as initializing a variable to 0 or 1).</p>
</div>
</div>
<p>In the dog class above, the constructor takes two parameters: <code>self</code> and <code>dog_name</code>. The first parameter represents the instance that is about to be instantiated. <strong>This parameter is always required!</strong> The second parameter represents the name of this new dog (e.g., Bosco). The function header indicates that, to create a new instance of the dog class, a dog name must be provided. Line 4 then sets the instance variable <code>name</code> for the object to be created. Note that <code>self.name</code> (on the left side of the assignment statement) represents the instance variable (called <code>name</code>) for the dog class, and specifically targets this dog instance’s name (via <code>self.name</code>). The <em>dot</em> in between self and name is called the dot operator and will be covered shortly. The variable <code>dog_name</code> (on the right side of the assignment statement) is passed in to the function when a new instance of a dog is desired.</p>
<p>Instances of the dog class can be created as we need them. This typically occurs outside of the dog class (for example, in a program that requires dog objects to interact with each other). Objects that are instances of the dog class can be easily instantiated as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>:  d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>:  d2 <span class="op">=</span> Dog(<span class="st">"Biff"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Line 5 declares a variable, <code>d1</code>, that represents an instance of the dog class. Specifically, <code>d1</code> is a dog whose name is “Maya”. Line 6 defines a variable, <code>d2</code>, that represents another instance of the dog class. Specifically, <code>d2</code> is a dog whose name is “Biff”</p>
<p>When line 5 is executed, the variable <code>d1</code> is mapped to the variable <code>self</code> in the <code>__init__</code> function (constructor) of the dog class. The variable <code>self</code> is a formal parameter. The variable d1 is the actual parameter that is mapped to the formal parameter. Similarly, the string “Maya” (actual parameter) is mapped to the variable <code>dog_name</code> (formal parameter). The statement <code>self.name = dog_name</code> ultimately sets the instance variable <code>name</code> for this instance of the dog class to whatever was passed in as the variable <code>dog_name</code> (i.e., Maya in this case).</p>
<p>Formally, the variable <code>d1</code> is called an <strong>object reference</strong>. That is, it refers to an object (or instance) of the dog class. The variable <code>d2</code> is also an object reference of the dog class. We can access the members of a class by using the <strong>dot operator</strong>. For example, we could change the name of <code>d1</code> to Bosco as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>d1.name <span class="op">=</span> <span class="st">"Bosco"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The above example shows how to modify an instance variable. Note that it only changes the name of <code>d1</code> and not <code>d2</code> because the specified object reference is <code>d1</code>. Simply accessing (without changing) a member of a class is just as easy; for example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(d2.name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This statement would produce the output Biff (because <code>d2</code>’s name is Biff). In fact, let’s list the state of each instance of the class dog, <code>d1</code> and <code>d2</code> (note that this is not Python source code; rather, it is an enumeration of the instance variables and their associated values for the objects <code>d1</code> and <code>d2</code>):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>d1.name → Bosco</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>d2.name → Biff</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>d1.kind → canine</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>d2.kind → canine</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You have actually seen (and used) the dot operator before. Consider the following statements:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">"Joe"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>welcome_string <span class="op">=</span> <span class="st">"Hello, </span><span class="sc">{}</span><span class="st">"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(welcome_string.<span class="bu">format</span>(name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>From these statements, we can infer that strings (specifically the string <code>welcome_string</code> in the example above) are objects! In addition, the function <code>format</code> must be a member of the string class since it can be accessed using the dot operator! In fact, the function <code>format</code> is part of the behavior of the string class. This function takes one or more parameters that replace the empty braces in the string.</p>

<div class="no-row-height column-margin column-container"><div class="callout callout-style-default callout-note callout-titled" title="Did you know">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Did you know
</div>
</div>
<div class="callout-body-container callout-body">
<p>In Python, instance variables don’t need to be formally declared in the class. That is, they can be defined as needed, dynamically. For example, although the dog class doesn’t yet specify an instance variable that defines a dog’s breed, the following statement in the main part of the program effectively adds the instance variable breed. It only adds it to the specific instance, though, as other instances will not have breed added to them. Specifically, it sets d1’s breed to German Shepherd:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>d1.breed <span class="op">=</span> <span class="st">"German Shepherd"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It is standard practice, however, to formally define all instance variables in the class. This will be further discussed later.</p>
</div>
</div></div></section>
<section id="instance-variables-vs.-class-variables" class="level3 page-columns page-full" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="instance-variables-vs.-class-variables"><span class="header-section-number">1.4</span> Instance variables vs.&nbsp;class variables</h3>
<p>Suppose that an expert in the field decided to change the scientific name for dogs from canine to something like “caten”. You know, to account for inflation. Changing class variables separately for each instance of the dog class doesn’t make sense. The purpose of a class variable is that its value is shared simultaneously among all of the instances of the class. The proper method of changing a class variable so that it appropriately affects all of the instances is to use the class name as follows:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Dog.kind <span class="op">=</span> <span class="st">"caten"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This statement simultaneously changes the class variable <code>kind</code> (to caten) for all instances of the dog class. To illustrate this, here is some source code for a dog class that illustrates the behavior and differences of class and instance variables, and its output:</p>
<div id="c6f53998" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, dog_name):</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> dog_name</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>d2 <span class="op">=</span> Dog(<span class="st">"Biff"</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is a </span><span class="sc">{}</span><span class="st"> and another named </span><span class="sc">{}</span><span class="st"> </span><span class="ch">\</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="st">that is also a </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name, d1.kind, d2.name,d2.kind))</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>d1.name <span class="op">=</span> <span class="st">"Bosco"</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is a </span><span class="sc">{}</span><span class="st"> and another named </span><span class="sc">{}</span><span class="st"> </span><span class="ch">\</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="st">that is also a </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name, d1.kind, d2.name,<span class="op">\</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>d2.kind))</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>Dog.kind <span class="op">=</span> <span class="st">"caten"</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is a </span><span class="sc">{}</span><span class="st"> and another named </span><span class="sc">{}</span><span class="st"> </span><span class="ch">\</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="st">that is also a </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name, d1.kind, d2.name,<span class="op">\</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>d2.kind))</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>d1.breed <span class="op">=</span> <span class="st">"German Shepherd"</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>d2.breed <span class="op">=</span> <span class="st">"mutt"</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is a </span><span class="sc">{}</span><span class="st"> and another named </span><span class="sc">{}</span><span class="st"> </span><span class="ch">\</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="st">that is a </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name, d1.breed, d2.name,<span class="op">\</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>d2.breed))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I have a dog named Maya that is a canine and another named Biff that is also a canine.
I have a dog named Bosco that is a canine and another named Biff that is also a canine.
I have a dog named Bosco that is a caten and another named Biff that is also a caten.
I have a dog named Bosco that is a German Shepherd and another named Biff that is a mutt.</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="callout callout-style-default callout-note callout-titled" title="Did you know">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Did you know
</div>
</div>
<div class="callout-body-container callout-body">
<p>You may have noticed above that some statements seem to be spread across multiple lines. Each of the lines that make up these statements end with a backslash (), except for the last line of the statement. Python allows the use of a backslash to note that the remainder of a statement is provided on the next line. For example, take a look at the following statement:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> –</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This statement can be spread across multiple lines as follows:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span><span class="op">\</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span> – <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div><p>Note a few things: (1) the class variable <code>kind</code> is applied to both instances, <code>d1</code> and <code>d2</code>; and (2) the instance variable <code>breed</code> is dynamically created and applied (separately) to each instance.</p>

<div class="no-row-height column-margin column-container"><div class="callout callout-style-default callout-note callout-titled" title="Did you know">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Did you know
</div>
</div>
<div class="callout-body-container callout-body">
<p>For readability, Python source code is presented as it is formatted in IDLE throughout this lesson. the main reason for this is that presenting source code this way provides syntax highlighting. <strong>Syntax highlighting</strong> is the feature of highlighting (or coloring) certain portions of source code so that it helps to categorize constructs, keywords, variables, and so on. It essentially helps to make the source code more readable. For example, Python keywords are colored orange and strings are colored green.</p>
</div>
</div></div><p>It is important to understand the difference between instance variables and class variables. Although they seem similar, they are actually quite different. Perhaps this is best illustrated with an example. Consider the following modified dog class and output:</p>
<div id="184ec599" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    tricks <span class="op">=</span> []</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, dog_name):</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> dog_name</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_trick(<span class="va">self</span>, trick):</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.tricks.append(trick)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>d2 <span class="op">=</span> Dog(<span class="st">"Biff"</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>d1.add_trick(<span class="st">"roll over"</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>d2.add_trick(<span class="st">"play dead"</span>)</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that can </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name,<span class="op">\</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a> d1.tricks))</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that can </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d2.name,<span class="op">\</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a> d2.tricks))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I have a dog named Maya that can ['roll over', 'play dead'].
I have a dog named Biff that can ['roll over', 'play dead'].</code></pre>
</div>
</div>
<p>The only difference in the class is the addition of the list <code>tricks</code> and the function <code>add_trick</code>. After all, a dog can do tricks! Adding a trick to an instance of the dog class can be done by accessing the <code>add_trick</code> function (using the dot operator) on an object reference of a dog instance and providing the trick to add (as a string). As shown before, the dog instance is automatically passed in and mapped to the formal parameter <code>self</code> in the function. The string that represents the trick to add is passed in and mapped to the formal parameter <code>trick</code>. The function appends a new trick to the end of the list.</p>
<p>The expected behavior of the source code above may be that each instance of the dog class (i.e., <code>d1</code> and <code>d2</code>) can define their own set (or list) of tricks. In fact, we expect that Maya can “roll over” and that Biff can “play dead”, but review the output.</p>
<p>The fact that both dog objects can do the same tricks can be explained by noting that the list <code>tricks</code> is defined at the class level and is therefore considered a class variable. As such, all instances of the dog class share the list. A change to it (even through the function <code>add_trick</code>) affects all instances of the dog class! To fix this and make the list of tricks an instance variable, we can define it in the <code>__init__</code> method as follows:</p>
<div id="ccf3a683" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, dog_name):</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> dog_name</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.tricks <span class="op">=</span> []</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_trick(<span class="va">self</span>, trick):</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.tricks.append(trick)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>d2 <span class="op">=</span> Dog(<span class="st">"Biff"</span>)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>d1.add_trick(<span class="st">"roll over"</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>d2.add_trick(<span class="st">"play dead"</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that can </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name,<span class="op">\</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a> d1.tricks))</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that can </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d2.name,<span class="op">\</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a> d2.tricks))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I have a dog named Maya that can ['roll over'].
I have a dog named Biff that can ['play dead'].</code></pre>
</div>
</div>
<p>Since it is no longer at the class level, it is considered an instance variable and thus allows unique values to be stored for each instance of the dog class.</p>
<p>Now, take a look at this more complete dog class:</p>
<div id="803985fe" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, breed):</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.breed <span class="op">=</span> breed</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.tricks <span class="op">=</span> []</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.friends <span class="op">=</span> []</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_trick(<span class="va">self</span>, trick):</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.tricks.append(trick)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>, <span class="st">"mutt"</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>d2 <span class="op">=</span> Dog(<span class="st">"Biff"</span>, <span class="st">"Black Lab"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>d1.add_trick(<span class="st">"roll over"</span>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>d2.add_trick(<span class="st">"play dead"</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that can </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name,<span class="op">\</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a> d1.tricks))</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that can </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d2.name,<span class="op">\</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a> d2.tricks))</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>d1.friends <span class="op">=</span> [ <span class="st">"Finca"</span>, <span class="st">"Shane"</span> ]</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>d2.friends <span class="op">=</span> [ <span class="st">"Sadie"</span>, <span class="st">"Bosco"</span> ]</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}</span><span class="st">'s friends are </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d1.name, d1.friends))</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}</span><span class="st">'s friends are </span><span class="sc">{}</span><span class="st">."</span>.<span class="bu">format</span>(d2.name, d2.friends))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I have a dog named Maya that can ['roll over'].
I have a dog named Biff that can ['play dead'].
Maya's friends are ['Finca', 'Shane'].
Biff's friends are ['Sadie', 'Bosco'].</code></pre>
</div>
</div>
<p>Note the addition of several new instance variables: <code>breed</code> and <code>friends</code>. This class defines all dogs to have a name, a breed, a list of tricks, and a list of friends.</p>
<p>At this point, it may be worthwhile to summarize the difference between class variables, instance variables, and function parameters. Class variables are relevant to an entire class. The values of class variables are shared among all of the instances of a class. Think of a class variable as being stored in a single memory location that all the instances of a class can refer to. Instance variables are also relevant to an entire class. However, the values of instance variables are unique for each instance of a class. That is, an instance variable is stored in a different memory location for each instance of a class. Function parameters are relevant to a function and are only accessible inside the function. They are short-lived and last until the function has finished its execution.</p>
</section>
<section id="accessors-and-mutators" class="level3 page-columns page-full" data-number="1.5">
<h3 data-number="1.5" class="anchored" data-anchor-id="accessors-and-mutators"><span class="header-section-number">1.5</span> Accessors and mutators</h3>
<p>Consider the following simple dog class:</p>
<div id="b4c7863f" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is </span><span class="sc">{}</span><span class="st"> year(s) </span><span class="ch">\</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="st">old."</span>.<span class="bu">format</span>(d1.name, d1.age))</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>d1.age <span class="op">=</span> <span class="op">-</span><span class="dv">5</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is </span><span class="sc">{}</span><span class="st"> year(s) </span><span class="ch">\</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="st">old."</span>.<span class="bu">format</span>(d1.name, d1.age))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I have a dog named Maya that is 0 year(s) old.
I have a dog named Maya that is -5 year(s) old.</code></pre>
</div>
</div>
<p>Everything seems to work fine; however, note that no dog can actually be -5 years old. This value is not possible for a dog’s age (at least not in the world that we live in). This illustrates an important point: sometimes, we may want to check that the values supplied to function parameters are sensible. For numeric types, we typically call this <strong>range checking</strong>. That is, we may need to ensure that a supplied value falls within a valid range. For example, a valid range for a dog’s age could be 0 to 29.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>Range checking is a subset of a more general concept called <strong>input validation</strong>, which attempts to validate input (whether it be from a user during program execution, from actual parameters passed in to a function’s formal parameters, etc).</p>
</div>
</div>
<p>To ensure proper execution of a program that processes inputs, the inputs must first be validated. In the example above, the input to a dog’s age must first be validated before the instance variable is assigned the value of the input.</p>
<p>To accomplish this, we can define a mutator (also known as a <em>setter</em>) that provides write access to an instance variable defined in a class.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <em>mutator</em> is a method that wraps an instance variable for the purpose of input validation (and often access control in some object-oriented programming languages).</p>
</div>
</div>
<p>The instance variable still exists; however, to change it, the mutator must be called instead. Once the supplied input is validated, the instance variable is then changed with the provided value. Here is a modified dog class with a mutator for the instance variable <code>age</code>:</p>
<div id="b1b861c1" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setAge(<span class="va">self</span>, age):</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (age <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> age <span class="op">&lt;=</span> <span class="dv">29</span>):</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is </span><span class="sc">{}</span><span class="st"> year(s) </span><span class="ch">\</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="st">old."</span>.<span class="bu">format</span>(d1.name, d1.age))</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>d1.setAge(<span class="op">-</span><span class="dv">5</span>)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is </span><span class="sc">{}</span><span class="st"> year(s) </span><span class="ch">\</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="st">old."</span>.<span class="bu">format</span>(d1.name, d1.age)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I have a dog named Maya that is 0 year(s) old.
I have a dog named Maya that is 0 year(s) old.</code></pre>
</div>
</div>
<p>Note that the mutator is called <code>setAge</code>. Typically, we specifically set the name of a mutator to the word “set” followed by the name of the instance variable (initially capitalized). Since the mutator’s purpose is to change the value of an instance variable, then that value must be passed in as a function parameter. The mutator then performs range checking. In the case of the dog class above, a value from 0 through 29 is valid (and would subsequently be assigned to the instance variable <code>age</code>). To change the value of a dog’s age, the mutator must be called.</p>
<p>Based on the output, note that the attempt to change <code>d1</code>’s age to -5 was not successful.</p>
<p>Using the function <code>setAge</code> as the mutator that enables modification of the instance variable <code>age</code> seems a bit tedious. In a perfect world, changing <code>d1</code>’s age (with input validation) would perhaps be done as follows:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>d1.age <span class="op">=</span> <span class="dv">11</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>However, doing it this way would effectively bypass the mutator, <code>setAge</code>, and ignore input validation (as seen in the earlier example). Python does provide a neat way to accomplish this, however. We often call this kind of <em>neat</em> behavior syntactic sugar.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Syntactic sugar</strong> just means that a programming language provides a sensible (and often shorthand) way to accomplish a task that may, under the hood, be a bit more convoluted.</p>
</div>
</div>
<p>Python provides direct support for wrapping instance variables with mutators that perform input validation through a concept called a <strong>decorator</strong>. For now, a decorator is just a wrapper. It is something that wraps something else. In this case, it is a mutator in the form of a function that wraps an instance variable.</p>
<p>However, to properly explain how Python supports this, we must first discuss the concept of an accessor.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>An <strong>accessor</strong> (also known as a getter) is a method that wraps an instance variable for the purpose of providing read access (i.e., to allow us to read the value of an instance variable).</p>
</div>
</div>
<p>In Python, the meaning behind this is lost because all of a class’ instance variables are directly accessible. However, in other object-oriented programming languages (such as Java, for example), we can enforce the privacy of instance variables. That is, we can restrict them such that they can only be accessed through accessors and mutators. Nevertheless, the only way that Python supports decorators as mutators is to additionally provide decorators as accessors. It may be best to first show the source code that demonstrates this:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"canine"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># accessor</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> age(<span class="va">self</span>):</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># mutator</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">@age.setter</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> age(<span class="va">self</span>, age):</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (age <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> age <span class="op">&lt;=</span> <span class="dv">29</span>):</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._age <span class="op">=</span> age</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> Dog(<span class="st">"Maya"</span>)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is </span><span class="sc">{}</span><span class="st"> year(s) </span><span class="ch">\</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="st">old."</span>.<span class="bu">format</span>(d1.name, d1.age))</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>d1.age <span class="op">=</span> <span class="op">-</span><span class="dv">5</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"I have a dog named </span><span class="sc">{}</span><span class="st"> that is </span><span class="sc">{}</span><span class="st"> year(s) </span><span class="ch">\</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="st">old."</span>.<span class="bu">format</span>(d1.name, d1.age))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that there are seemingly erroneous statements beginning with that “@” symbol (e.g., <code>@property</code> and <code>@age.setter</code>). In Python, these <em>tags</em> formally define decorators. The tag <code>@property</code> defines a decorator (or wrapper) that serves as an accessor, and the tag <code>@age.setter</code> defines a decorator (or wrapper) that serves as a mutator for a member called <code>age</code>.</p>
<p>Both the accessor and mutator are functions with the same name. In the case above, both are functions called <code>age</code>. Semantically, they refer to a dog’s age. Since the identifier <code>age</code> is now used to refer to the accessor and mutator, the instance variable that these methods wrap must be renamed. In Python, it is typical to begin instance variables with an underscore. For example, the instance variable that stores a dog’s age would be called <code>_age</code>.</p>
<p>Let’s explain the accessor and mutator, one at a time. First, the accessor:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="at">@property</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age(<span class="va">self</span>):</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">self</span>._age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, the tag <code>@property</code> defines a decorator that will serve as an accessor for the instance variable that represents a dog’s age. The next statement defines the accessor itself. The function is called <code>age</code> (and only takes a single parameter, the object). Since the sole purpose of an accessor is to provide read access to an instance variable, then all that is required is to return its value (via the <code>return</code> keyword). Since the identifier <code>age</code> is used as the function’s name, then the instance variable has been renamed to <code>_age</code> as noted earlier.</p>
<p>Now, the mutator:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="at">@age.setter</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age(<span class="va">self</span>, age):</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (age <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> age <span class="op">&lt;=</span> <span class="dv">29</span>):</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._age <span class="op">=</span> age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, the tag <code>@age.setter</code> defines a decorator that will serve as a mutator for the instance variable that represents a dog’s age. The next statement defines the mutator itself. The function is also called <code>age</code> (and takes two parameters: the object and the value to change the instance variable to). Since the purpose of a mutator is to provide write access to an instance variable with input validation, it appropriately ensures that the provided value is within an acceptable range. If so, the instance variable <code>_age</code> is changed to reflect the provided input value.</p>
<p>You may have noticed that the decorator for the mutator, <code>@age.setter</code>, contains the name of the function, <code>age</code>. This must be adhered to when defining a decorator as a mutator. If, for instance, we wished to provide a mutator for a dog’s name, we could use the decorator tag <code>@name.setter</code>, call the mutator function <code>name</code>, and use the instance variable <code>_name</code>.</p>
<p>Note the following statement in the constructor:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="va">self</span>.age <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Be careful! Here, <code>self.age</code> does not refer to an instance variable. It actually refers to the mutator. This assignment statement effectively calls the mutator, passing in the value on the right-hand side (0) as the second parameter of the mutator (<code>age</code>). That is, the value 0 is passed in to the mutator, which is then validated in the mutator. Since it is within the acceptable range (0 through 29), then the instance variable <code>_age</code> is set to 0.</p>
<p>It is important to note that the accessor must be defined <strong>before</strong> the mutator. Using the <code>@property</code> tag defines the property by name (e.g., <code>age</code>) so that it can be used to subsequently define the mutator (<code>@age.setter</code>).</p>
<p>To illustrate accessors and mutators a bit more, consider the following class that defines a 2D point (with an x- and y-coordinate):</p>
<div id="7ce24559" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># points must fall within the range (-10,-10) and (10,10)</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Point:</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x<span class="op">=</span><span class="dv">0</span>, y<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.x <span class="op">=</span> x</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.y <span class="op">=</span> y</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># getter for x</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> x(<span class="va">self</span>):</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._x</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># setter for x</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">@x.setter</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> x(<span class="va">self</span>, value):</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (value <span class="op">&lt;</span> <span class="op">-</span><span class="dv">10</span>):</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._x <span class="op">=</span> <span class="op">-</span><span class="dv">10</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> (value <span class="op">&gt;</span> <span class="dv">10</span>):</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._x <span class="op">=</span> value</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># getter for y</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> y(<span class="va">self</span>):</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._y</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># setter for y</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">@y.setter</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> y(<span class="va">self</span>, value):</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (value <span class="op">&lt;</span> <span class="op">-</span><span class="dv">10</span>):</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._y <span class="op">=</span> <span class="op">-</span><span class="dv">10</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> (value <span class="op">&gt;</span> <span class="dv">10</span>):</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._y <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._y <span class="op">=</span> value</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> Point()</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> Point(<span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>p3 <span class="op">=</span> Point(<span class="op">-</span><span class="dv">50</span>, <span class="dv">50</span>)</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"p1=(</span><span class="sc">{}</span><span class="st">,</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(p1.x, p1.y))</span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"p2=(</span><span class="sc">{}</span><span class="st">,</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(p2.x, p2.y))</span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"p3=(</span><span class="sc">{}</span><span class="st">,</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(p3.x, p3.y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>p1=(0,0)
p2=(5,5)
p3=(-10,10)</code></pre>
</div>
</div>
<p>Although the class for a 2D point is a bit more involved, it only contains two instance variables. The first, <code>_x</code>, represents the position of the point in the x-direction. The second, <code>_y</code>, represents the position of the point in the y-direction. Accessors and mutators for each are provided (via the methods called <code>x</code> for the instance variable <code>_x</code>, and the methods called <code>y</code> for the instance variable <code>_y</code>). In addition, range checking is performed for both the x- and y-components. Each component may not be less than -10 or greater than 10.</p>
<p>Did you notice something odd in the constructor? Here it is for reference:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x<span class="op">=</span><span class="dv">0</span>, y<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.x <span class="op">=</span> x</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.y <span class="op">=</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Take a look at the constructor’s parameters: <code>(self, x=0, y=0)</code>. You probably expected something more like this: (self, x, y). In Python, we can provide <strong>default</strong> values for function parameters. This works for any function (not just the constructor). This means that, should parameter values be unspecified when the function is called, the default values will be used. In this example, a point’s default x- and y-values are 0 and 0 respectively. Therefore, a point at the origin could be instantiated as follows:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> Point()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Of course, such a point could also be instantiated as follows:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> Point(<span class="dv">0</span>, <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The default values are only used if parameter values are not specified when the function is called. It is important to note that a function can have a mix of both standard and default parameters. In fact, the constructor is just like this (<code>self</code> is a standard parameter without a default value, while <code>x</code> and <code>y</code> have default values). In Python, all parameters with default values must be specified after standard parameters. This way, it is clear if values for default parameters are specified in a function call. For example:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> foo(a, b, c, d<span class="op">=</span><span class="dv">5</span>, e<span class="op">=</span><span class="dv">7</span>, f<span class="op">=</span><span class="dv">8</span>):</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>foo(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this case, the actual parameters 1, 2, 3, and 4 are mapped to the formal parameters <code>a</code>, <code>b</code>, <code>c</code>, and <code>d</code>. The default values for the formal parameters <code>e</code> and <code>f</code> are used.</p>
<p>To wrap up this section, let’s add line numbers to the point class above and trace the program’s execution:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>: <span class="co"># points must fall within the range (-10,-10) and (10,10)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>: <span class="kw">class</span> Point:</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>:      <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x<span class="op">=</span><span class="dv">0</span>, y<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>:          <span class="va">self</span>.x <span class="op">=</span> x</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>:          <span class="va">self</span>.y <span class="op">=</span> y</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>:      <span class="co"># getter for x</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>:      <span class="op">@</span>property</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>:      <span class="kw">def</span> x(<span class="va">self</span>):</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>:          <span class="va">self</span>._x</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>:     <span class="co"># setter for x</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>:     <span class="op">@</span>x.setter</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>:     <span class="kw">def</span> x(<span class="va">self</span>, value):</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>:         <span class="cf">if</span> (value <span class="op">&lt;</span> <span class="op">-</span><span class="dv">10</span>):</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>:             <span class="va">self</span>._x <span class="op">=</span> <span class="op">-</span><span class="dv">10</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>:         <span class="cf">elif</span> (value <span class="op">&gt;</span> <span class="dv">10</span>):</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>:             <span class="va">self</span>._x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>:         <span class="cf">else</span>:</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>:             <span class="va">self</span>._x <span class="op">=</span> value</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>:         <span class="co"># getter for y</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>:         <span class="op">@</span>property</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>:         <span class="kw">def</span> y(<span class="va">self</span>):</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>:             <span class="cf">return</span> <span class="va">self</span>._y</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>:         <span class="co"># setter for y</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>:         <span class="op">@</span>y.setter</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>:         <span class="kw">def</span> y(<span class="va">self</span>, value):</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>:             <span class="cf">if</span> (value <span class="op">&lt;</span> <span class="op">-</span><span class="dv">10</span>):</span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>:                 <span class="va">self</span>._y <span class="op">=</span> <span class="op">-</span><span class="dv">10</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>:             <span class="cf">elif</span> (value <span class="op">&gt;</span> <span class="dv">10</span>):</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>:                 <span class="va">self</span>._y <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>:             <span class="cf">else</span>:</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>:                 <span class="va">self</span>._y <span class="op">=</span> value</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span>: p1 <span class="op">=</span> Point()</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a><span class="dv">33</span>: p2 <span class="op">=</span> Point(<span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span>: p3 <span class="op">=</span> Point(<span class="op">-</span><span class="dv">50</span>, <span class="dv">50</span>)</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a><span class="dv">35</span>: <span class="bu">print</span>(<span class="st">"p1=(</span><span class="sc">{}</span><span class="st">,</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(p1.x, p1.y))</span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span>: <span class="bu">print</span>(<span class="st">"p2=(</span><span class="sc">{}</span><span class="st">,</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(p2.x, p2.y))</span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a><span class="dv">37</span>: <span class="bu">print</span>(<span class="st">"p3=(</span><span class="sc">{}</span><span class="st">,</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(p3.x, p3.y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="no-row-height column-margin column-container"><div class="callout callout-style-default callout-note callout-titled" title="Did you know">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Did you know
</div>
</div>
<div class="callout-body-container callout-body">
<p>Although some object-oriented languages actually prevent accessing instance variables that are protected (or wrapped) with accessors and mutators, Python does not enforce this. For example, it is possible to change the x-component or access the y-component of a point via statements such as:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>p1._x <span class="op">=</span> <span class="op">-</span><span class="dv">22</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(p1._y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Many Python programmers prefer to change the way they implement classes so that any value that requires protection is not stored in instance variables. There are other mechanisms that will, in fact, protect these values. However, this discussion is beyond the scope of this lesson.</p>
</div>
</div></div><div class="callout callout-style-default callout-important callout-titled" title="Activity">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Activity
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p><strong>Activity 2: Fractions</strong></p>
<p>In this activity, we will create a class that represents a fraction. The first step is to determine what makes up a fraction (i.e., what it can <em>be</em> – its state). This task is pretty simple! Fractions have a numerator and a denominator. We can create instance variables for these and also provide accessors and mutators for each.</p>
<p>We may also want to provide the numeric representation of a fraction. For example, the fraction 1/2 has the numeric representation 0.5. In Python, simply dividing the numerator by the denominator (i.e., 1/2) won’t produce the anticipated result because it will perform integer division. That is, the expression 1/2 will result in 0 (since 2 goes into 1 exactly 0 times). To produce a floating point result, we must convert one of the two operands to a floating point value. In Python, we can do this as follows:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="bu">float</span>(<span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The expression <code>float(1)</code> converts the integer value 1 into the floating point value 1.0. Generally, the expression <code>float(x)</code> converts the operand <em>x</em> into a floating point value. Formally, this conversion is called a <strong>typecast</strong>, in that the operand’s <em>type</em> is <em>cast</em> to a different type.</p>
<p>The expression <code>float(1) / 2</code> produces the expected result (0.5). In fact, typecasting either operand works – as shown in the example below:</p>
<div id="19009140" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="op">//</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>0</code></pre>
</div>
</div>
<div id="cbe73784" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="bu">float</span>(<span class="dv">1</span>) <span class="op">/</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>0.5</code></pre>
</div>
</div>
<div id="cc085442" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="op">/</span> <span class="bu">float</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>0.5</code></pre>
</div>
</div>
<p>There are other typecast operators that perform various type conversions. Here are a few of them: <code>int</code>(<em>x</em>) – converts <em>x</em> to an integer <code>long</code>(<em>x</em>) – converts <em>x</em> to a long integer <code>complex</code>(<em>x</em>, <em>y</em>) – creates a complex number; <em>x</em> is the real part, <em>y</em> is the imaginary part <code>str</code>(<em>x</em>) – converts <em>x</em> to a string</p>
<p>Lastly, we must not allow the denominator of a fraction to ever be 0 (since division by 0 is mathematically illegal). Therefore, we will need to provide range checking (via if-statements, for example), to ensure that such an assignment is prevented.</p>
<p>Here’s the beginning of the fraction class, along with a brief main program to test the class:</p>
<div id="e21245bb" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defines a fraction</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Fraction:</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># by default, a fraction is 0/1</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, num<span class="op">=</span><span class="dv">0</span>, den<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.num <span class="op">=</span> num</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># make sure not to set the denominator to 0 if specified</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (den <span class="op">==</span> <span class="dv">0</span>):</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>            den <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.den <span class="op">=</span> den</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># getter for the numerator</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> num(<span class="va">self</span>):</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._num</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># setter for the numerator</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">@num.setter</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> num(<span class="va">self</span>, value):</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._num <span class="op">=</span> value</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># getter for the denominator</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> den(<span class="va">self</span>):</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._den</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># setter for the denominator</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">@den.setter</span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> den(<span class="va">self</span>, value):</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ignore if the specified denominator is 0</span></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (value <span class="op">!=</span> <span class="dv">0</span>):</span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._den <span class="op">=</span> value</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># returns a fraction's numeric representation</span></span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> getReal(<span class="va">self</span>):</span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">float</span>(<span class="va">self</span>.num) <span class="op">/</span> <span class="va">self</span>.den</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a><span class="co"># main program</span></span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>f1 <span class="op">=</span> Fraction()</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>f3 <span class="op">=</span> Fraction(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}</span><span class="st">/</span><span class="sc">{}</span><span class="st"> (</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(f1.num, f1.den, f1.getReal()))</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}</span><span class="st">/</span><span class="sc">{}</span><span class="st"> (</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(f2.num, f2.den, f2.getReal()))</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}</span><span class="st">/</span><span class="sc">{}</span><span class="st"> (</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(f3.num, f3.den, f3.getReal()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0/1 (0.0)
1/2 (0.5)
0/1 (0.0)</code></pre>
</div>
</div>
<p>Note how the class prevents the third fraction from being initialized as 0/0 and instead changes it to 0/1.</p>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="callout callout-style-default callout-note callout-titled" title="Did you know">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Did you know
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is a better way of displaying a fraction than what is shown in the example above. Note how we earlier structured a print statement that built the string representation of a fraction:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}</span><span class="st">/</span><span class="sc">{}</span><span class="st"> (</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(f1.num, f1.den, f1.getReal()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In Python, we can define a built-in <strong>magic function</strong> that is automatically called when we wish to display an object. In fact, this built-in function is user-definable and is named using a similar format as the constructor (i.e., the function begins and ends with two underscores). The function is called <code>__str__</code> and must return a string representation of the class. So for a fraction, such a function could be implemented as follows:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> <span class="st">"</span><span class="sc">{}</span><span class="st">/</span><span class="sc">{}</span><span class="st"> (</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(<span class="va">self</span>.num, <span class="va">self</span>.den, <span class="va">self</span>.getReal())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Displaying a fraction would then be possible via the following much simpler statement (via syntactic sugar):</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Adding this function to the fraction class is simple. Here’s a snippet of the addition:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defines a fraction</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Fraction:</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># returns a fraction's string representation</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"</span><span class="sc">{}</span><span class="st">/</span><span class="sc">{}</span><span class="st"> (</span><span class="sc">{}</span><span class="st">)"</span>.<span class="bu">format</span>(<span class="va">self</span>.num, <span class="va">self</span>.den,<span class="op">\</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.getReal())</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co"># main program</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>f1 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>f3 <span class="op">=</span> f1.add(f2)</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f2)</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Of course, the output is the same as before!</p>
</div>
</div></div><div class="callout callout-style-default callout-important callout-titled" title="Activity">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Activity
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p><strong>Activity 3: Reducing fractions</strong> You may have noticed that instantiating the fraction 6/8 would work just fine. The problem is that this fraction is not expressed in lowest terms. That is, it can be reduced (to 3/4). Our fraction class would greatly benefit from a function that can reduce a fraction. Such a function could be called in the constructor after setting the numerator and denominator in case it is not in lowest terms.</p>
<p>Although there are many ways to reduce a fraction, here’s a simple algorithm that calculates the greatest common divisor (GCD) among the numerator and denominator. First, initially assume that the GCD is 1. From there, iterate, starting with 2 through the smaller of the numerator or denominator. Each time, the objective is to try to find a value that evenly divides both the numerator and denominator. As such a value is found, the GCD is updated. The final step is to divide the numerator and denominator by the GCD (which reduces the fraction). As a cleanup operation, if the numerator is 0 (i.e., the fraction’s numeric value is 0.0), the denominator is set to 1 (i.e., 0/1).</p>
<p>This is shown in the snippet of code below (which can be placed anywhere in the fraction class):</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reduces a fraction</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="bu">reduce</span>(<span class="va">self</span>):</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># we initially assume that the GCD is 1</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># from there, we iterate starting at 2 through the smaller</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># of the numerator or denominator</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># since the numerator and denominator could be negative,</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># we use their absolute values</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># each time, we try to find a value that evenly divides</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># both the numerator and denominator</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># as we find such a value, we update the GCD</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the final step is two divide the numerator and</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># denominator by the GCD to reduce the fraction</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># as cleanup, if the numerator is 0 (i.e., the fraction is</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 0) then set the denominator to 1</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>    gcd <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>    minimum <span class="op">=</span> <span class="bu">min</span>(<span class="bu">abs</span>(<span class="va">self</span>.num), <span class="bu">abs</span>(<span class="va">self</span>.den))</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># find common divisors</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="bu">int</span>(minimum <span class="op">+</span> <span class="dv">1</span>)):</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>        <span class="co"># when we find one, update the GCD</span></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="va">self</span>.num <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> <span class="va">self</span>.den <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span>):</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>            gcd <span class="op">=</span> i</span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># divide the numerator and denominator by the GCD</span></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.num <span class="op">/=</span> gcd</span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.den <span class="op">/=</span> gcd</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if the numerator is 0, set the denominator to 1</span></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="va">self</span>.num <span class="op">==</span> <span class="dv">0</span>):</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.den <span class="op">=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The Python <em>math</em> library has many useful functions. The <strong>min</strong> function returns the minimum value of a number of values passed in as parameters. This makes it quite easy to determine which of the numerator or denominator is smaller. Since a function’s numerator or denominator could be negative, we use their absolute value to determine which is smaller. The <strong>abs</strong> function returns the absolute value of a specified value.</p>
<p>So where (and when) do we call the <code>reduce</code> function? For the fraction class shown earlier, we could do so in the constructor as follows:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defines a fraction</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Fraction:</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># by default, a fraction is 0/1</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, num<span class="op">=</span><span class="dv">0</span>, den<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.num <span class="op">=</span> num</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># make sure not to set the denominator to 0 if specified</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (den <span class="op">==</span> <span class="dv">0</span>):</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>            den <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.den <span class="op">=</span> den</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.<span class="bu">reduce</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This works; however, the mutators for the numerator and denominator may cause a fraction to no longer be reduced. We could, therefore, call the <code>reduce</code> function at the end of the mutators. There is a problem with this, however. Since the constructor uses the mutator for the numerator (in <code>self.num = num</code>) before the denominator is even set, a call to the function <code>reduce</code> in the mutator for the numerator would attempt to access the denominator (which doesn’t exist). This would result in an error.</p>
<p>We could try to place a call to the <code>reduce</code> function in the mutator for the denominator. But this is also problematic, because the <code>reduce</code> function uses the mutator for the denominator to change the denominator (i.e., when dividing it by the <em>gcd</em>). Placing it here would cause the <code>reduce</code> function to be recursively called infinitely!</p>
<p>Perhaps the best place to put the call to the <code>reduce</code> function is in the <code>__str__</code> function (i.e., when displaying a fraction).</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled" title="Activity">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Activity
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p><strong>Activity 4: Adding fractions… and more</strong>* Let’s now implement the functionality to add two fractions and produce the sum of these as a new fraction. We must first discuss how two fractions can be added. Typically, the least common denominator is found. A simpler version, however, is to multiply each fraction by the other’s denominator to obtain a common denominator (that is not necessarily the least common denominator).</p>
<p>Here’s an illustration: <span class="math display">\[
\frac{a}{b}+\frac{c}{d} = \frac{a*b}{b*d}+\frac{b*c}{b*d}
\]</span></p>
<p>As an example, take the following: <span class="math display">\[
\frac{1}{2}+\frac{1}{4} = \frac{1*4}{2*4}+\frac{2*1}{2*4} = \frac{4}{8}+\frac{2}{8} = \frac{6}{8} = \frac{3}{4}
\]</span></p>
<p>So now, how do we implement a method in the fraction class that does this? One way is as follows:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates and returns the sum of two fractions</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(<span class="va">self</span>, other):</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    num <span class="op">=</span> (<span class="va">self</span>.num <span class="op">*</span> other.den) <span class="op">+</span> (other.num <span class="op">*</span> <span class="va">self</span>.den)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    den <span class="op">=</span> <span class="va">self</span>.den <span class="op">*</span> other.den</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span> <span class="op">=</span> Fraction(num, den)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.<span class="bu">reduce</span>()</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">sum</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function is called as follows (specifically in the third statement below):</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>f3 <span class="op">=</span> f1.add(f2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that both fractions are effectively passed in to the <code>add</code> function. The first, <code>f1</code>, represents the current instance and is mapped to the first parameter, <code>self</code>. The second, <code>f2</code>, is mapped to the second parameter, <code>other</code>.</p>
<p>The function implements the common denominator method shown above and generates a fraction representing the sum of <code>self</code> and <code>other</code>. The new fraction is then reduced and returned. Note that calling the <code>reduce</code> function here is not necessary if it is called in the <code>__str__</code> function.</p>
<p>The function could be optimized (perhaps at the expense of not being quite as readable) by returning a new fraction directly instead of creating one and returning it. For example:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> Fraction(num, den)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In fact, the function could be optimized even more as follows:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> Fraction(<span class="va">self</span>.num <span class="op">*</span> other.den <span class="op">+</span> other.num <span class="op">*</span> <span class="va">self</span>.den,<span class="op">\</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="va">self</span>.den <span class="op">*</span> other.den)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Of course, we could implement functions to subtract, multiply, and divide fractions! In fact, we could implement a subtract method by using the already defined add method. How? Recall that subtracting is just adding the negative. Since this will be assigned as a program later, it is left as an individual exercise for now.</p>
</div>
</div>
</div>
</section>
<section id="operator-overloading" class="level3" data-number="1.6">
<h3 data-number="1.6" class="anchored" data-anchor-id="operator-overloading"><span class="header-section-number">1.6</span> Operator overloading</h3>
<p>In the last example above, we defined a function in the fraction class that adds two fractions and returns the sum. We used this function similar to the following snippet of Python code:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> Fraction(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1.add(f2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As expected, the output of these statements is: <code>5/4 (1.25)</code></p>
<p>The way in which we call the addition function seems a bit tedious. Why can’t we just use the addition operator? For example, why can’t we just add two fractions, <code>f1</code> and <code>f2</code>, by merely using the expression <code>f1 + f2</code>? This would mean that the following modification of the example above would work as expected:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> Fraction(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1 <span class="op">+</span> f2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It turns out that such a thing is possible through a concept called operator overloading.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Operator overloading</strong> is the act of redefining the behavior of operators (such as addition and subtraction) using their known symbols (+ for addition, – for subtraction, and so on) in order to support these operations on user-defined data types.</p>
</div>
</div>
<p>For example, redefining the addition operator for the fraction class could mean implementing the common denominator method described earlier</p>
<p>Python has various internal magic functions that support the redefinition of common operators. The main idea is to encapsulate the new, redefined behavior in a function that is automatically called (using syntactic sugar) when two objects of the class are used as operands with the specified operator. For the purpose of the fraction class, we will only consider the four arithmetic operators.</p>
<p>The addition operator (<code>+</code>) can be redefined in a function called <code>__add__</code> as follows:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="fu">__add__</span>(<span class="va">self</span>, other):</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    num <span class="op">=</span> (<span class="va">self</span>.num <span class="op">*</span> other.den) <span class="op">+</span> (other.num <span class="op">*</span> <span class="va">self</span>.den)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    den <span class="op">=</span> <span class="va">self</span>.den <span class="op">*</span> other.den</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span> <span class="op">=</span> Fraction(num, den)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.<span class="bu">reduce</span>()</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that the source code in the new overloaded <code>__add__</code> function is exactly the same as it was in the original <code>add</code> function shown earlier.</p>
<p>The subtraction operator (<code>–</code>) can be redefined in a function called <code>__sub__</code> as follows:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="fu">__sub__</span>(<span class="va">self</span>, other):</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that for this and the remaining operators, the source code is not provided. Instead, appropriate code is replaced with an ellipsis (…).</p>
<p>The multiplication operator (<code>*</code>) can be redefined in a function called <code>__mul__</code> as follows:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="fu">__mul__</span>(<span class="va">self</span>, other):</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lastly, The division operator (<code>/</code>) can be redefined in a function called <code>__truediv__</code> as follows:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> <span class="fu">__truediv__</span>(<span class="va">self</span>, other):</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The fraction class has now grown! Take a look:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defines a fraction</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Fraction:</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># by default, a fraction is 0/1</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, num<span class="op">=</span><span class="dv">0</span>, den<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.num <span class="op">=</span> num</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># make sure not to set the denominator to 0 if specified</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (den <span class="op">==</span> <span class="dv">0</span>):</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>        den <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.den <span class="op">=</span> den</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.<span class="bu">reduce</span>()</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculates and returns the sum of two fractions</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__add__</span>(<span class="va">self</span>, other):</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>        num <span class="op">=</span> (<span class="va">self</span>.num <span class="op">*</span> other.den) <span class="op">+</span> (other.num <span class="op">*</span> <span class="va">self</span>.den)</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>        den <span class="op">=</span> <span class="va">self</span>.den <span class="op">*</span> other.den</span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">sum</span> <span class="op">=</span> Fraction(num, den)</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">sum</span>.<span class="bu">reduce</span>()</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">sum</span></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculates and returns the difference of two fractions</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__sub__</span>(<span class="va">self</span>, other):</span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># replace this with the function's actual implementation</span></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculates and returns the product of two fractions</span></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__mul__</span>(<span class="va">self</span>, other):</span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># replace this with the function's actual implementation</span></span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculates and returns the division of two fractions</span></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__truediv__</span>(<span class="va">self</span>, other):</span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a>        <span class="co"># replace this with the function's actual implementation</span></span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a> ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In fact, we can now perform all of the implemented arithmetic operations on fractions. Here’s a snippet of Python code that tests the fraction class and assumes that the operator overload functions have been fully implemented:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># main program</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>f1 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> Fraction(<span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f2)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1 <span class="op">+</span> f2)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1 <span class="op">-</span> f2)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1 <span class="op">*</span> f2)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f1 <span class="op">/</span> f2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And here is the output:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="op">/</span><span class="dv">2</span> (<span class="fl">0.5</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="op">/</span><span class="dv">4</span> (<span class="fl">0.25</span>)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="op">/</span><span class="dv">4</span> (<span class="fl">0.75</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="op">/</span><span class="dv">4</span> (<span class="fl">0.25</span>)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="op">/</span><span class="dv">8</span> (<span class="fl">0.125</span>)</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="op">/</span><span class="dv">1</span> (<span class="fl">2.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="class-diagrams" class="level3" data-number="1.7">
<h3 data-number="1.7" class="anchored" data-anchor-id="class-diagrams"><span class="header-section-number">1.7</span> Class diagrams</h3>
<p>In computer science courses, you are often asked to design simple programs. The ability to understand and hold everything in one’s head when solving a simple problem is relatively straightforward and, well, usually pretty simple. However, when solving complicated problems and developing solutions to these problems as large and tedious applications, it becomes quite difficult to manage all of the parts and pieces. Often, we require the use of tools and techniques that incorporate visual aids and diagrams to assist us in managing the structure and components of these applications.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>class diagram</strong> is a type of diagram that describes the structure of a program by visualizing its classes, their state and behavior, and their relationships.</p>
</div>
</div>
<p>The most simple class diagram only shows the classes of a program, which are represented as rectangles.</p>
<p>To illustrate how a class diagram could be used to model an application’s structure, let’s consider one that models vehicle traffic in a large city for the purpose of analyzing how it manages traffic during rush hour. This kind of application would be useful in learning about traffic patterns, congestion, and so on. In fact, it could help to redesign roads, entrances to and exits from highways and interstates, the placement and timing of traffic signals, etc. Such an application may include classes for cars, pickup trucks, buses, tractor trailers, motorcycles, and so on, since all of these things contribute to the traffic in a city. In fact, the application could be modeled with a class diagram as follows:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="/images/lesson12-01.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>The classes of an application are always singular nouns. Since a class is a blueprint for objects, then a class is essentially like a rubber stamp. For example, we can define a class that describes the blueprint for a car. This class would be considered the car class and be formally called <strong>Car</strong>. As mentioned earlier, the names of classes are typically capitalized. Since they are identifiers, they also must not contain spaces and abide by all of the rules for naming identifiers in the programming language. To summarize the rules of naming a class:</p>
<ol type="1">
<li><p>Always use singular nouns</p></li>
<li><p>Names of classes start with an initial capital letter (and usually follow CamelCasingLikeThis)</p></li>
<li><p>Names must not contain spaces or other invalid characters as per the naming identifier rules</p></li>
</ol>
<p>In Python, the car class could be defined as follows:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Car:</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Instances of the car class would collectively be called cars (and there could be many of them). Similarly, the class for a pickup truck could be called <strong>PickupTruck</strong>, and would be defined in Python as follows:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PickupTruck:</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The beauty of a class diagram is that it allows us to very easily see the components of a system or application. In the class diagram above, there is no indication of the state and behavior of classes, nor is there any indication of any relationships between classes. We will get to this later.</p>
</section>
<section id="inheritance" class="level3" data-number="1.8">
<h3 data-number="1.8" class="anchored" data-anchor-id="inheritance"><span class="header-section-number">1.8</span> Inheritance</h3>
<p>As you know, the object-oriented paradigm attempts to mimic the real world, particularly in how it is made up of objects that interact with each other. In the real world, objects also have relationships, and this is useful! For example, a person inherits traits from parents. Specifically, a person inherits physical traits (e.g., height, hair color, etc) and behavioral traits (e.g., manner of speaking). This behavior is represented in the object-oriented paradigm as well.</p>
<p>To illustrate how this is done, let’s consider the application that models vehicle traffic described earlier. Let’s begin with the car class that serves as the blueprint for a car in the traffic simulation. What might its state and behavior look like? That is, what are cars made up of? What can they be, and what can they do? Very quickly, we can think of attributes such as year, make, model, mileage, and so on. This represents the state of a car. We can also think of behaviors such as start, move, turn, park, and so on. In fact, we could quickly design a car class now that we know how to do so in Python!</p>
<p>Now let’s consider a pickup truck class that serves as the blueprint for a pickup truck in the traffic simulation. Its state would most likely be very similar to that of the car class. And so would its behavior. In fact, not much differentiates a car from a pickup truck. They both generally have the same attributes and do the same thing. Imagine designing the classes for a car and a pickup truck. You may think that the classes would share many similarities in both state and behavior (and you would be right).</p>
<p>Now imagine maintaining such an application. Suppose that the implementation of some behavior that is similar across cars and pickup trucks needs to be modified. This would require changing both the car and pickup truck classes because code is duplicated across the two classes. Dealing with this type of thing increases the likelihood of bugs. The beauty of the object-oriented paradigm is that it allows the inheritance of state and behavior from class-to-class, just like we inherit traits from our ancestors!</p>
<p>The state and behavior that is shared among the car and pickup truck classes in the traffic simulation application could be captured in a more general class. Such a class could, for example, be called a <strong>Vehicle</strong>. All of the state and behavior that is shared among any type of vehicle would be defined in this class. Specific kinds of vehicles (like cars and pickup trucks) would then inherit these traits. Any modifications to the state and behavior of vehicles of all types could be made in the vehicle class and be automatically applied to all types of vehicles!</p>
<p>In fact, let’s amend the class diagram shown earlier by including a vehicle class that defines the overall state and behavior that all types of vehicles (cars, pickup trucks, buses, tractor trailers, and motorcycles) share: <img src="/images/Lesson12-02.png" class="img-fluid quarto-figure quarto-figure-center"></p>
<p>Note how all of the classes that inherit state and behavior from the vehicle class now have solid arrows pointing <em>toward</em> the vehicle class. In a class diagram, this indicates an inheritance relationship. Specifically, the car, pickup truck, and other classes shown at the bottom of the class diagram inherit state and behavior from the vehicle class.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>A class that defines state and behavior that is inherited by other classes is called a <strong>superclass</strong>. The classes that inherit from it are called <strong>subclasses</strong>.</p>
</div>
</div>
<p>In the class diagram above, the class <strong>Vehicle</strong> is a superclass of the class <strong>Car</strong>, and the class <strong>Car</strong> is a subclass of the class <strong>Vehicle</strong>.</p>
<p>The inheritance relationship is often called the <strong>is-a</strong> relationship. This is actually quite clear from the class diagram: a Car <em>is a</em> Vehicle, a Bus <em>is a</em> Vehicle, and so on. There is also the <strong>has-a</strong> relationship. This represents a composition relationship and refers to the state of an object. Specifically, we often note the has-a relationship in class diagrams for classes that contain other classes.</p>
<p>In terms of how this is accomplished in Python source code, we merely need to specify the superclass in a subclass’ class definition. For example, consider the class <strong>Car</strong> (which is a subclass of the superclass <strong>Vehicle</strong>). To note this relationship in Python, we merely need to define the <strong>Car</strong> class as follows:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Car(Vehicle):</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This establishes the relationship that the class <strong>Car</strong> is a subclass of the class <strong>Vehicle</strong>, and that the class <strong>Vehicle</strong> is a superclass of the class <strong>Car</strong>.</p>
<p>Next, consider an engine class that defines everything that an engine can be and do. Clearly, a car has an engine. So does a pickup truck, a bus, a motorcycle, and so on. In general, all of these vehicles have an engine. Since all vehicles have an engine, in the design of the application we may include the engine class as part of the state of the vehicle class. Specifically, we would include an instance of the engine class in the vehicle class. All subclasses of the vehicle class would then inherit this attribute. We note the has-a relationship in a class diagram with a dashed arrow that point toward the composed class. Here is an amended class diagram that now includes the engine class:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="/images/Lesson12-03.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>This important relationship illustrates that objects can, in fact, create other objects! In the example above, a vehicle can create an instance of an engine. Although the state and behavior of all vehicles is defined in the vehicle class, nothing stops any of its subclasses from redefining or specializing these attributes or behaviors. That is, although a car and a motorcycle both have an engine, they are quite different. Simply because the engine class is included in the vehicle class does not prevent a car or a motorcycle from specializing the engine and uniquely setting its state.</p>
<p>Let’s further illustrate the concept of inheritance by expanding the world of vehicles. In this expanded world, there are two types of vehicles: land vehicles (that move on land) and air vehicles (that fly in the air). The types of land vehicles that exist include all of the vehicles described earlier (e.g., cars, pickup trucks, etc), and the types of air vehicles that exist include airplanes, helicopters, and ultralights. While we’re at it, let’s define multiple types of engines for land vehicles (e.g., V-6, V-8, and I-6), and multiple types of engines for air vehicles (e.g., turbo prop and jet engine).</p>
<p>Try to represent this expanded world with a class diagram.</p>
<p>Often, we include the state and behavior of classes in the class diagram. Suppose that the class <strong>LandVehicle</strong> has the instance variables <code>year</code>, <code>make</code>, and <code>model</code>, and the functions <code>start</code>, <code>stop</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="/images/Lesson12-04.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Typically, we include the types of instance variables and adhere to the following format:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>variable_name : variable_type</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For functions, we include the names and types of any parameters and adhere to the following format:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>function_name(parameter1_name : parameter1_type, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You have probably noticed that this extension of class diagrams makes it quite easy to implement the source code for the class!</p>
</section>
<section id="the-object-class" class="level3" data-number="1.9">
<h3 data-number="1.9" class="anchored" data-anchor-id="the-object-class"><span class="header-section-number">1.9</span> The <code>object</code> class</h3>
<p>The inheritance relationship is easily implemented in Python classes in the class header. In python 2.x, in order to define accessors and mutators, the class definition must <strong>explicitly</strong> include what you now know to be an inheritance relationship with a class called <strong>object</strong>. The inheritance from class <strong>object</strong> is <strong>implicit</strong> in Python 3.x. The class header for the dog class could have been written:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog(<span class="bu">object</span>):</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Formally, the class <strong>object</strong> is defined to be the ultimate superclass for all built-in (i.e., user-defined) types. As shown, it is possible to have multiple levels of inheritance (e.g., the class <strong>Car</strong> is a subclass of the class <strong>LandVehicle</strong> which is a subclass of the class <strong>Vehicle</strong>). At the top of this inheritance hierarchy lies the object class.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="/images/Lesson12-05.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>From this class diagram, we can quickly begin laying out the source code for the classes. In fact, the class headers can be directly inferred from the class diagram:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Vehicle: <span class="co">#implicitly inherits from class object</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DodgeRam(Vehicle):</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Engine: <span class="co">#implicitly inherits from class object</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Since the class diagram includes the state of each class, declaring instance variables in the constructors of each class and providing appropriate accessors and mutators is also relatively straightforward. In fact, here’s the entire <strong>Vehicle</strong> class:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Vehicle: <span class="co">#implicitly inherits from class object</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, year, make, model):</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.year <span class="op">=</span> year</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.make <span class="op">=</span> make</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.model <span class="op">=</span> model</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.engine <span class="op">=</span> <span class="va">None</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> year(<span class="va">self</span>):</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._year</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">@year.setter</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> year(<span class="va">self</span>, value):</span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._year <span class="op">=</span> <span class="va">None</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (value <span class="op">&gt;</span> <span class="dv">1800</span> <span class="kw">and</span> value <span class="op">&lt;</span> <span class="dv">2018</span>):</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._year <span class="op">=</span> value</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> make(<span class="va">self</span>):</span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._make</span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">@make.setter</span></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> make(<span class="va">self</span>, value):</span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._make <span class="op">=</span> value</span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> model(<span class="va">self</span>):</span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._model</span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">@model.setter</span></span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> model(<span class="va">self</span>, value):</span>
<span id="cb73-32"><a href="#cb73-32" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._model <span class="op">=</span> value</span>
<span id="cb73-33"><a href="#cb73-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-34"><a href="#cb73-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb73-35"><a href="#cb73-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> engine(<span class="va">self</span>):</span>
<span id="cb73-36"><a href="#cb73-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._engine</span>
<span id="cb73-37"><a href="#cb73-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-38"><a href="#cb73-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">@engine.setter</span></span>
<span id="cb73-39"><a href="#cb73-39" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> engine(<span class="va">self</span>, value):</span>
<span id="cb73-40"><a href="#cb73-40" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._engine <span class="op">=</span> value</span>
<span id="cb73-41"><a href="#cb73-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-42"><a href="#cb73-42" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb73-43"><a href="#cb73-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Year: </span><span class="sc">{}</span><span class="ch">\n</span><span class="st">Make: </span><span class="sc">{}</span><span class="ch">\n</span><span class="st">Model: </span><span class="sc">{}</span><span class="ch">\n</span><span class="st">Engine:</span><span class="ch">\</span></span>
<span id="cb73-44"><a href="#cb73-44" aria-hidden="true" tabindex="-1"></a><span class="st">            </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(<span class="va">self</span>.year, <span class="va">self</span>.make, <span class="va">self</span>.model,<span class="op">\</span></span>
<span id="cb73-45"><a href="#cb73-45" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.engine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The constructor includes parameters for a vehicle’s year, make, and model. By default, a vehicle’s engine is undefined (i.e., <code>None</code>). The class contains getters and setters for each of the instance variables. Finally, the <code>__str__</code> function defines how to represent a vehicle as a string, which is in the following format (with an example for clarity):</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>Year: <span class="dv">2016</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>Make: Dodge</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>Model: Ram</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>Engine: V6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here is the entire <strong>Engine</strong> class:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Engine: <span class="co">#implicitly inherits from class object</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, kind<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.kind <span class="op">=</span> kind</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> kind(<span class="va">self</span>):</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._kind</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">@kind.setter</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> kind(<span class="va">self</span>, value):</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._kind <span class="op">=</span> value</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.kind)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <strong>Engine</strong> class has a single instance variable (its kind). Its constructor includes one parameter for the kind of engine (<code>None</code> by default). A getter and setter is provided for the instance variable. The string representation of an engine is just its kind.</p>
<p>Lastly, here is the DodgeRam class:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DodgeRam(Vehicle):</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    make <span class="op">=</span> <span class="st">"Dodge"</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    model <span class="op">=</span> <span class="st">"Ram"</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name<span class="op">=</span><span class="va">None</span>, year<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(year, DodgeRam.make, DodgeRam.model)</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> name(<span class="va">self</span>):</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._name</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">@name.setter</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> name(<span class="va">self</span>, value):</span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._name <span class="op">=</span> value</span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Name: </span><span class="sc">{}</span><span class="ch">\n</span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(<span class="va">self</span>.name,<span class="op">\</span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>            <span class="bu">super</span>().<span class="fu">__str__</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <strong>DodgeRam</strong> class has a single instance variable (its name). Its constructor takes two parameters (for a DodgeRam’s name and year). Note that the class contains two class variables that are shared among all instances of the class: make and model. This makes sense, because all instances of the class <strong>DodgeRam</strong> are Dodge Rams! That is, their make is Dodge, and their model is Ram.</p>
<p>There are two more interesting (and new) things in the class <strong>DodgeRam</strong>. Take a look at the first statement in the constructor:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="bu">super</span>().<span class="fu">__init__</span>(year, DodgeRam.make, DodgeRam.model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When implementing inheritance relationships, it often becomes useful and sometimes necessary to invoke or call functions in a subclass’ superclass. Formally, state and behavior that are defined in the superclass are inherited in a subclass. They can be redefined in the subclass; however, they don’t necessarily need to be. In fact, a subclass may inherit a function and need to implement the inherited behavior first. This is accomplished by calling the function in the superclass. Since the current object (self) is not an instance of the superclass, then invoking a function in the superclass is done by using the super() function. So the first part of the statement, <code>super().__init__</code>, means to call the constructor in the <strong>Vehicle</strong> class (the superclass of the <strong>DodgeRam</strong> class).</p>
<p>In this case, the year, make, and model are passed as parameters to the constructor in the <strong>Vehicle</strong> class. This effectively sets up the appropriate instance variables in the <strong>Vehicle</strong> class (which are inherited in the <strong>DodgeRam</strong> class). Subsequently, the constructor in the <strong>DodgeRam</strong> class then initializes its only instance variable, <code>name</code>.</p>
<p>Another new thing in the class is the statement in the <code>__str__</code> function:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> <span class="st">"Name: </span><span class="sc">{}</span><span class="ch">\n</span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(<span class="va">self</span>.name, <span class="bu">super</span>().<span class="fu">__str__</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The string representation of a <strong>DodgeRam</strong> is its name, followed by the string representation of a <strong>Vehicle</strong> (which was illustrated earlier). The latter part of the statement calls the <code>__str__</code> function in the Vehicle class:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="bu">super</span>().<span class="fu">__str__</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Again, this illustrates a call to a function in the superclass. This call returns the string representation of a vehicle – which is displayed below the name of the <strong>DodgeRam</strong>; for example:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>Name: Boss Hog</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>Year: <span class="dv">2016</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>Make: Dodge</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>Model: Ram</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>Engine: V6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>So the string representation of a <strong>DodgeRam</strong> is simply its name, followed by the inherited string representation of a <strong>Vehicle</strong>.</p>
<section id="why-inheritance" class="level4" data-number="1.9.1">
<h4 data-number="1.9.1" class="anchored" data-anchor-id="why-inheritance"><span class="header-section-number">1.9.1</span> Why inheritance?</h4>
<p>There are clear benefits of using inheritance in our programs. In a sense, it makes the reasoning of an application more possible since it attempts to mimic the world that we live in. But it also reduces code duplication, because similarities between objects can be encapsulated in superclasses. This has the downstream effect of promoting the reuse of code, and intrinsically makes code maintenance much easier. In fact, we often say that if software is not maintained, it dies! So we maintain software often. It behooves us to make this process easier.</p>
<p>Lastly, inheritance makes applications easier to extend. Think of adding a different type of vehicle (say, a <strong>HondaCivic</strong>). Without inheritance, we would have to include instance variables for year, make, model, and so on. However, these are already defined in the <strong>Vehicle</strong> class! We simply need to define the class <strong>HondaCivic</strong> as a subclass of the class <strong>Vehicle</strong> in order to inherit its state and behavior:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> HondaCivic(Vehicle):</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="single-inheritance-vs.-multiple-inheritance" class="level4" data-number="1.9.2">
<h4 data-number="1.9.2" class="anchored" data-anchor-id="single-inheritance-vs.-multiple-inheritance"><span class="header-section-number">1.9.2</span> Single inheritance vs.&nbsp;multiple inheritance</h4>
<p>The inheritance relationship that has been discussed thus far is known as <strong>single inheritance</strong>. That is, a subclass inherits state and behavior from a single superclass. Most object-oriented programming languages support single inheritance. Often, however, there is a need to support <strong>multiple inheritance</strong>, where a subclass can inherit from more than one superclass.</p>
<p>To illustrate this, consider a grocery store’s items. A banana, for example, is a fruit. Therefore, it may inherit traits from a fruit superclass such as type, country of origin, etc. However, in the context of a grocery store, a banana is also an item for sale. Such a sale item has a price, an inventory, a shelf location, etc. Inheriting from both a <strong>Fruit</strong> superclass and a <strong>SaleItem</strong> superclass, for example, would be useful in implementing the point-of-sale system for a grocery store.</p>
<p>Most object-oriented programming languages do not support multiple inheritance. Some do, but only in a limited form. Java, for example, supports it in a limited form by utilizing something known as an interface. The technical details of this are beyond the scope of this lesson. Python, however, directly supports multiple inheritance. One must merely list all of a subclass’ superclasses in the class header; for example:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Banana(Fruit, SaleItem):</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="oo-quick-reference" class="level3" data-number="1.10">
<h3 data-number="1.10" class="anchored" data-anchor-id="oo-quick-reference"><span class="header-section-number">1.10</span> OO quick reference</h3>
<p>We have covered a lot of new terms in this lesson. This final section merely aggregates them all, along with their definition, so that you can easily and quickly refer to the terms should you need to.</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 81%">
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th style="text-align: left;">Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>accessor</td>
<td style="text-align: left;">A special method in a class that wraps an instance variable for the purpose of providing read access.</td>
</tr>
<tr class="even">
<td>behavior</td>
<td style="text-align: left;">All of the things that an object can <em>do</em>; implemented using functions in the class.</td>
</tr>
<tr class="odd">
<td>class</td>
<td style="text-align: left;">A blueprint for a thing; the definition of state and behavior for an entire class of things.</td>
</tr>
<tr class="even">
<td>class diagram</td>
<td style="text-align: left;">A diagram that models the classes of a system or application, their relationships, and their members.</td>
</tr>
<tr class="odd">
<td>class variable</td>
<td style="text-align: left;">A variable that is defined at the class level; its value is shared among all instances of the class.</td>
</tr>
<tr class="even">
<td>constructor</td>
<td style="text-align: left;">A special method in a class that is automatically invoked when a new instance of the class is instantiated; usually performs initialization tasks (e.g., assigning default or specified values to the instance variables).</td>
</tr>
<tr class="odd">
<td>decorator</td>
<td style="text-align: left;">A wrapper; in Python, accessors and mutators are wrapped using a decorator</td>
</tr>
<tr class="even">
<td>dot operator</td>
<td style="text-align: left;">When used on an object reference, accessed the specified member of the class.</td>
</tr>
<tr class="odd">
<td>has-a</td>
<td style="text-align: left;">A relationship among classes that implies one class making use of another; also means the ability of an object to create other objects.</td>
</tr>
<tr class="even">
<td>inheritance</td>
<td style="text-align: left;">A relationship among classes that permits a class to inherit the state and behavior of another class; see <strong>is-a</strong>.</td>
</tr>
<tr class="odd">
<td>input validation</td>
<td style="text-align: left;">The process of validating a provided input to ensure that it conforms to some expected range or type.</td>
</tr>
<tr class="even">
<td>instance</td>
<td style="text-align: left;">An object that represents the instantiation of a class.</td>
</tr>
<tr class="odd">
<td>instance variable</td>
<td style="text-align: left;">A variable defined in a method of a class (usually the constructor) that allows individual instances of the class to uniquely set values to.</td>
</tr>
<tr class="even">
<td>instantiate</td>
<td style="text-align: left;">The process of constructing a new instance of a class</td>
</tr>
<tr class="odd">
<td>is-a</td>
<td style="text-align: left;">A relationship among classes that permits a class to inherit the state and behavior of another class; see inheritance</td>
</tr>
<tr class="even">
<td>magic function</td>
<td style="text-align: left;">A special function in Python whose name begins and ends with two underscores (e.g., <code>__init__</code>, <code>__str__</code>, <code>__add__</code>).</td>
</tr>
<tr class="odd">
<td>member</td>
<td style="text-align: left;">How we collectively reference the state and behavior of a class</td>
</tr>
<tr class="even">
<td>method</td>
<td style="text-align: left;">How behavior is implemented in a class; they are functions that describe what an object can do</td>
</tr>
<tr class="odd">
<td>multiple inheritance</td>
<td style="text-align: left;">The ability of a class to inherit the state and behavior of multiple classes simultaneously</td>
</tr>
<tr class="even">
<td>mutator</td>
<td style="text-align: left;">A special method in a class that wraps an instance variable for the purpose of providing write access; usually implements input validation.</td>
</tr>
<tr class="odd">
<td>object</td>
<td style="text-align: left;">An instance of a class, with specific values assigned to instance variables.</td>
</tr>
<tr class="even">
<td>object class</td>
<td style="text-align: left;">The base class for all user-defined objects; the top-most superclass.</td>
</tr>
<tr class="odd">
<td>object reference</td>
<td style="text-align: left;">A variable name that refers to an object.</td>
</tr>
<tr class="even">
<td>operator overloading</td>
<td style="text-align: left;">The redefining of an operator (e.g., the addition operator) on user-defined objects.</td>
</tr>
<tr class="odd">
<td>single inheritance</td>
<td style="text-align: left;">The ability of a class to inherit the state and behavior of a single class.</td>
</tr>
<tr class="even">
<td>state</td>
<td style="text-align: left;">All of the things that an object can be; implemented using instance variables in the class.</td>
</tr>
<tr class="odd">
<td>subclass</td>
<td style="text-align: left;">A class that inherits state and behavior from another class.</td>
</tr>
<tr class="even">
<td>superclass</td>
<td style="text-align: left;">A class that another class inherits state and behavior from.</td>
</tr>
<tr class="odd">
<td>typecast</td>
<td style="text-align: left;">The process of converting a value from one type to another (e.g., converting an integer to a floating point number).</td>
</tr>
</tbody>
</table>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>